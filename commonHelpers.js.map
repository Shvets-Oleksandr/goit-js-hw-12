{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["'use strict'\n\nexport const createGalleryCardTemplate = (cardInfo) => {\n    return `\n    <li class=\"gallery-item\">\n        <a href=\"${cardInfo.largeImageURL}\">\n            <img src=\"${cardInfo.webformatURL}\"\n                alt=\"${cardInfo.tags}\"\n                width=\"360\"\n                height=\"152\"\n            />\n        </a>\n\n        <ul class=\"img-statistics\">\n            <li class=\"img-statistics-item\">\n                <h3 class=\"img-statistics-item-title\">Likes</h3>\n                <p class=\"img-statistics-item-value\">${cardInfo.likes}</p>\n            </li>\n            <li class=\"img-statistics-item\">\n                <h3 class=\"img-statistics-item-title\">Views</h3>\n                <p class=\"img-statistics-item-value\">${cardInfo.views}</p>\n            </li>\n            <li class=\"img-statistics-item\">\n                <h3 class=\"img-statistics-item-title\">Comments</h3>\n                <p class=\"img-statistics-item-value\">${cardInfo.comments}</p>\n            </li>\n            <li class=\"img-statistics-item\">\n                <h3 class=\"img-statistics-item-title\">Downloads</h3>\n                <p class=\"img-statistics-item-value\">${cardInfo.downloads}</p>\n            </li>\n        </ul>\n    </li>\n    `;\n}","'use strict'\n\nconst baseUrl ='https://pixabay.com';\n\nexport const fetchImg = (searchQuery) => {\n\n    const urlParams = new URLSearchParams ({\n        q: searchQuery,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        key: '45444033-7a199cc8ba7e30bdfbfaa3141',\n\n    })\n\n    return fetch(`${baseUrl}/api/?${urlParams}`)\n     .then(response => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        })\n}\n\n","'use strict'\n\nimport { createGalleryCardTemplate } from \"./js/render-functions.js\";\nimport { fetchImg } from \"./js/pixabay-api.js\";\n\nimport iziToast from \"izitoast\";\nimport SimpleLightbox from \"simplelightbox\";\n\n\nconst searchForm = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\nconst loaderEl = document.querySelector('.js-loader');\n\n\nlet lightbox;\n\nconst onSearchFormSubmit = (event) => {\n    event.preventDefault();\n\n    galleryEl.innerHTML = '';\n\n    loaderEl.classList.remove('is-hidden');\n\n    const searchValue = searchForm.elements.search.value;\n\n     if (!searchValue) {\n        iziToast.error({\n            title: 'Error',\n            message: 'Please enter a search query.',\n            position: \"topRight\",\n        });\n        loaderEl.classList.add('is-hidden');\n        return;\n    }\n\n    fetchImg(searchValue)\n    .then(data => {\n\n            if (data.hits.length === 0) {\n                iziToast.error({\n                    title: 'Error',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    position: \"topRight\",\n                });\n            loaderEl.classList.add('is-hidden');;\n            searchForm.reset()\n            return; \n        }\n            const galleryImgTemplate = data.hits.map(cardDetais => createGalleryCardTemplate(cardDetais)).join('');\n            loaderEl.classList.add('is-hidden');;\n            galleryEl.innerHTML = galleryImgTemplate;\n           \n\n            if (!lightbox) {\n                lightbox = new SimpleLightbox('.gallery a', {\n                    captionsData: 'alt',\n                    captionDelay: 150,\n                });\n\n            } else {\n\n                lightbox.refresh();\n            }\n\n        })\n        .catch(error => {\n            iziToast.error({\n                title: 'Error',\n                message: 'The server is not responding or does not exist',\n                position: \"topRight\",\n            });\n            loaderEl.classList.add('is-hidden');;\n        });\n\n}\nsearchForm.addEventListener('submit', onSearchFormSubmit);"],"names":["createGalleryCardTemplate","cardInfo","baseUrl","fetchImg","searchQuery","urlParams","response","searchForm","galleryEl","loaderEl","lightbox","onSearchFormSubmit","event","searchValue","iziToast","data","galleryImgTemplate","cardDetais","SimpleLightbox","error"],"mappings":"6vBAEO,MAAMA,EAA6BC,GAC/B;AAAA;AAAA,mBAEQA,EAAS,aAAa;AAAA,wBACjBA,EAAS,YAAY;AAAA,uBACtBA,EAAS,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uDASmBA,EAAS,KAAK;AAAA;AAAA;AAAA;AAAA,uDAIdA,EAAS,KAAK;AAAA;AAAA;AAAA;AAAA,uDAIdA,EAAS,QAAQ;AAAA;AAAA;AAAA;AAAA,uDAIjBA,EAAS,SAAS;AAAA;AAAA;AAAA;AAAA,MC1BnEC,EAAS,sBAEFC,EAAYC,GAAgB,CAErC,MAAMC,EAAY,IAAI,gBAAiB,CACnC,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,IAAK,oCAEb,CAAK,EAED,OAAO,MAAM,GAAGF,CAAO,SAASG,CAAS,EAAE,EACzC,KAAKC,GAAY,CACX,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,CACT,ECbMC,EAAa,SAAS,cAAc,iBAAiB,EACrDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAW,SAAS,cAAc,YAAY,EAGpD,IAAIC,EAEJ,MAAMC,EAAsBC,GAAU,CAClCA,EAAM,eAAc,EAEpBJ,EAAU,UAAY,GAEtBC,EAAS,UAAU,OAAO,WAAW,EAErC,MAAMI,EAAcN,EAAW,SAAS,OAAO,MAE9C,GAAI,CAACM,EAAa,CACfC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,+BACT,SAAU,UACtB,CAAS,EACDL,EAAS,UAAU,IAAI,WAAW,EAClC,MACH,CAEDN,EAASU,CAAW,EACnB,KAAKE,GAAQ,CAEN,GAAIA,EAAK,KAAK,SAAW,EAAG,CACxBD,EAAS,MAAM,CACX,MAAO,QACP,QAAS,2EACT,SAAU,UAC9B,CAAiB,EACLL,EAAS,UAAU,IAAI,WAAW,EAClCF,EAAW,MAAO,EAClB,MACH,CACG,MAAMS,EAAqBD,EAAK,KAAK,IAAIE,GAAcjB,EAA0BiB,CAAU,CAAC,EAAE,KAAK,EAAE,EACrGR,EAAS,UAAU,IAAI,WAAW,EAClCD,EAAU,UAAYQ,EAGjBN,EAQDA,EAAS,QAAO,EAPhBA,EAAW,IAAIQ,EAAe,aAAc,CACxC,aAAc,MACd,aAAc,GAClC,CAAiB,CAOjB,CAAS,EACA,MAAMC,GAAS,CACZL,EAAS,MAAM,CACX,MAAO,QACP,QAAS,iDACT,SAAU,UAC1B,CAAa,EACDL,EAAS,UAAU,IAAI,WAAW,CACrC,CAAA,CAET,EACAF,EAAW,iBAAiB,SAAUI,CAAkB"}