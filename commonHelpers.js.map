{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["'use strict'\n\nexport const createGalleryCardTemplate = (cardInfo) => {\n    return `\n    <li class=\"gallery-item\">\n        <a href=\"${cardInfo.largeImageURL}\">\n            <img src=\"${cardInfo.webformatURL}\"\n                alt=\"${cardInfo.tags}\"\n                width=\"360\"\n                height=\"152\"\n            />\n        </a>\n\n        <ul class=\"img-statistics\">\n            <li class=\"img-statistics-item\">\n                <h3 class=\"img-statistics-item-title\">Likes</h3>\n                <p class=\"img-statistics-item-value\">${cardInfo.likes}</p>\n            </li>\n            <li class=\"img-statistics-item\">\n                <h3 class=\"img-statistics-item-title\">Views</h3>\n                <p class=\"img-statistics-item-value\">${cardInfo.views}</p>\n            </li>\n            <li class=\"img-statistics-item\">\n                <h3 class=\"img-statistics-item-title\">Comments</h3>\n                <p class=\"img-statistics-item-value\">${cardInfo.comments}</p>\n            </li>\n            <li class=\"img-statistics-item\">\n                <h3 class=\"img-statistics-item-title\">Downloads</h3>\n                <p class=\"img-statistics-item-value\">${cardInfo.downloads}</p>\n            </li>\n        </ul>\n    </li>\n    `;\n}","'use strict'\n\nimport axios from 'axios';\n\naxios.defaults.baseURL ='https://pixabay.com/api/';\n\nexport const axiosImg = (searchQuery) => {\n\n    const axiosParams = {\n        params: {\n            q: searchQuery,\n            image_type: 'photo',\n            orientation: 'horizontal',\n            safesearch: true,\n            key: '45444033-7a199cc8ba7e30bdfbfaa3141',\n        },\n    }\n\n    return axios.get('', axiosParams);\n};\n\n","'use strict'\n\nimport { createGalleryCardTemplate } from \"./js/render-functions.js\";\nimport { axiosImg } from \"./js/pixabay-api.js\";\n\nimport iziToast from \"izitoast\";\nimport SimpleLightbox from \"simplelightbox\";\n\n\nconst searchForm = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\nconst loaderEl = document.querySelector('.js-loader');\n\n\nlet lightbox;\n\nconst onSearchFormSubmit = async (event) => {\n\n    try {\n        event.preventDefault();\n\n        galleryEl.innerHTML = '';\n\n        loaderEl.classList.remove('is-hidden');\n\n        const searchValue = searchForm.elements.search.value;\n        \n        if (!searchValue) {\n            iziToast.error({\n                title: 'Error',\n                message: 'Please enter a search query.',\n                position: \"topRight\",\n            });\n\n            loaderEl.classList.add('is-hidden');\n            return;\n        }\n\n        const response = await axiosImg(searchValue);\n        \n        if (response.data.hits.length === 0) {\n            iziToast.error({\n                title: 'Error',\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                position: \"topRight\",\n            });\n            loaderEl.classList.add('is-hidden');\n            searchForm.reset();\n            return;\n        }\n\n        const galleryImgTemplate = response.data.hits.map(cardDetais => createGalleryCardTemplate(cardDetais)).join('');\n        loaderEl.classList.add('is-hidden');\n        galleryEl.innerHTML = galleryImgTemplate;\n           \n\n        if (!lightbox) {\n            lightbox = new SimpleLightbox('.gallery a', {\n                captionsData: 'alt',\n                captionDelay: 150,\n            });\n\n        } else {\n            lightbox.refresh();\n        }\n        \n\n    } catch (error) {\n\n        const statusCode = error.response ? error.response.status : 'No response from server';\n\n        iziToast.error({\n            title: 'Error',\n            message: `Status Code: ${statusCode} - ${error.message}`,\n            position: \"topRight\",\n        });\n\n        loaderEl.classList.add('is-hidden');\n    };\n    \n}\n\nsearchForm.addEventListener('submit', onSearchFormSubmit);"],"names":["createGalleryCardTemplate","cardInfo","axios","axiosImg","searchQuery","axiosParams","searchForm","galleryEl","loaderEl","lightbox","onSearchFormSubmit","event","searchValue","iziToast","response","galleryImgTemplate","cardDetais","SimpleLightbox","error","statusCode"],"mappings":"owBAEO,MAAMA,EAA6BC,GAC/B;AAAA;AAAA,mBAEQA,EAAS,aAAa;AAAA,wBACjBA,EAAS,YAAY;AAAA,uBACtBA,EAAS,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uDASmBA,EAAS,KAAK;AAAA;AAAA;AAAA;AAAA,uDAIdA,EAAS,KAAK;AAAA;AAAA;AAAA;AAAA,uDAIdA,EAAS,QAAQ;AAAA;AAAA;AAAA;AAAA,uDAIjBA,EAAS,SAAS;AAAA;AAAA;AAAA;AAAA,MCxBzEC,EAAM,SAAS,QAAS,2BAEjB,MAAMC,EAAYC,GAAgB,CAErC,MAAMC,EAAc,CAChB,OAAQ,CACJ,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,IAAK,oCACR,CACJ,EAED,OAAOF,EAAM,IAAI,GAAIG,CAAW,CACpC,ECVMC,EAAa,SAAS,cAAc,iBAAiB,EACrDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAW,SAAS,cAAc,YAAY,EAGpD,IAAIC,EAEJ,MAAMC,EAAqB,MAAOC,GAAU,CAExC,GAAI,CACAA,EAAM,eAAc,EAEpBJ,EAAU,UAAY,GAEtBC,EAAS,UAAU,OAAO,WAAW,EAErC,MAAMI,EAAcN,EAAW,SAAS,OAAO,MAE/C,GAAI,CAACM,EAAa,CACdC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,+BACT,SAAU,UAC1B,CAAa,EAEDL,EAAS,UAAU,IAAI,WAAW,EAClC,MACH,CAED,MAAMM,EAAW,MAAMX,EAASS,CAAW,EAE3C,GAAIE,EAAS,KAAK,KAAK,SAAW,EAAG,CACjCD,EAAS,MAAM,CACX,MAAO,QACP,QAAS,2EACT,SAAU,UAC1B,CAAa,EACDL,EAAS,UAAU,IAAI,WAAW,EAClCF,EAAW,MAAK,EAChB,MACH,CAED,MAAMS,EAAqBD,EAAS,KAAK,KAAK,IAAIE,GAAchB,EAA0BgB,CAAU,CAAC,EAAE,KAAK,EAAE,EAC9GR,EAAS,UAAU,IAAI,WAAW,EAClCD,EAAU,UAAYQ,EAGjBN,EAODA,EAAS,QAAO,EANhBA,EAAW,IAAIQ,EAAe,aAAc,CACxC,aAAc,MACd,aAAc,GAC9B,CAAa,CAOR,OAAQC,EAAO,CAEZ,MAAMC,EAAaD,EAAM,SAAWA,EAAM,SAAS,OAAS,0BAE5DL,EAAS,MAAM,CACX,MAAO,QACP,QAAS,gBAAgBM,CAAU,MAAMD,EAAM,OAAO,GACtD,SAAU,UACtB,CAAS,EAEDV,EAAS,UAAU,IAAI,WAAW,CAE1C,CACA,EAEAF,EAAW,iBAAiB,SAAUI,CAAkB"}